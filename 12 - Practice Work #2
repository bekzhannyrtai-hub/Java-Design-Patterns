public class Main {
    public static void main(String[] args) {
        Client client = new Client("Алибек");
        PaymentGateway gateway = new PaymentGateway();
        VenueAdmin admin = new VenueAdmin();
        Manager manager = new Manager();

        SystemBooking system = new SystemBooking(gateway, admin, manager);

        client.requestBooking(system, "2025-12-01");
    }
}


public class Client {
    private String name;

    public Client(String name) {
        this.name = name;
    }

    public void requestBooking(SystemBooking system, String date) {
        system.checkAvailability(this, date);
    }

    public void confirmBooking(SystemBooking system) {
        system.processPayment(this);
    }

    public void receiveNotification(String message) {
        System.out.println("Клиенту " + name + ": " + message);
    }

    public void leaveFeedback() {
        System.out.println("Клиент оставил отзыв.");
    }
}




import java.util.ArrayList;
import java.util.List;

public class SystemBooking {
    private PaymentGateway gateway;
    private VenueAdmin admin;
    private Manager manager;
    private boolean available = true;

    public SystemBooking(PaymentGateway gateway, VenueAdmin admin, Manager manager) {
        this.gateway = gateway;
        this.admin = admin;
        this.manager = manager;
    }

    public void checkAvailability(Client client, String date) {
        System.out.println("Система проверяет доступность на " + date);

        if (available) {
            client.receiveNotification("Площадка доступна. Стоимость: 100 000 тг.");
            client.confirmBooking(this);
        } else {
            client.receiveNotification("Площадка недоступна. Выберите другую дату.");
        }
    }

    public void processPayment(Client client) {
        boolean result = gateway.pay();

        if (result) {
            client.receiveNotification("Оплата прошла успешно. Бронирование подтверждено.");
            admin.prepareEvent(this);
        } else {
            client.receiveNotification("Ошибка оплаты. Повторите попытку.");
        }
    }

    public void sendReportToManager() {
        manager.receiveReport();
    }

    public void finishEvent(Client client) {
        client.leaveFeedback();
        sendReportToManager();
    }
}




public class PaymentGateway {

    public boolean pay() {
        System.out.println("Платежный шлюз обрабатывает оплату...");
        return true; 
    }
}


import java.util.ArrayList;
import java.util.List;

public class VenueAdmin {

    public void prepareEvent(SystemBooking system) {
        System.out.println("Администратор готовит задачи.");

        List<Contractor> contractors = new ArrayList<>();
        contractors.add(new Contractor("Декорации"));
        contractors.add(new Contractor("Еда"));
        contractors.add(new Contractor("Оборудование"));

        for (Contractor c : contractors) {
            c.executeTask();
        }

        system.finishEvent(new Client("Алибек"));
    }
}



public class Contractor {
    private String task;

    public Contractor(String task) {
        this.task = task;
    }

    public void executeTask() {
        System.out.println("Подрядчик выполняет задачу: " + task);
    }
}


public class Manager {

    public void receiveReport() {
        System.out.println("Менеджер получил отчет и отзывы клиентов.");
    }
}
